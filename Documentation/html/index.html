<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>Maths3D: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<center>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Maths3D</div>
   <div id="projectbrief">Maths for Computer Graphics</div>
  </td>
 </tr>
 </tbody>
</table>
</center>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Maths3D Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_docs_README"></a><a href="https://github.com/JohnRyland/Maths3D"><img src="logo.svg" alt="" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Maths3D</h1>
<h3><a class="anchor" id="autotoc_md1"></a>
Maths for Computer Graphics</h3>
<p>Copyright (c) 2021-2022, John Ryland</p>
<p>All rights reserved</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Status</h2>
<p><a href="https://github.com/JohnRyland/Maths3D/actions/workflows/build.yml"><img src="https://github.com/JohnRyland/Maths3D/workflows/build/badge.svg" alt="" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/JohnRyland/Maths3D/actions/workflows/coverage.yml"><img src="https://github.com/JohnRyland/Maths3D/workflows/coverage/badge.svg" alt="" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/JohnRyland/Maths3D/actions/workflows/documentation.yml"><img src="https://github.com/JohnRyland/Maths3D/workflows/documentation/badge.svg" alt="" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="http://johnryland.github.io/Maths3D/Coverage/">Coverage Report</a></p>
<p><a href="http://johnryland.github.io/Maths3D/Documentation/html/">Documentation</a></p>
<p><a href="http://johnryland.github.io/Maths3D/Documentation/docs/README.pdf">PDF</a></p>
<p><a href="https://github.com/JohnRyland/Maths3D/tree/main">Source</a></p>
<p><a href="https://github.com/JohnRyland/Maths3D/releases">Releases</a></p>
<h2><a class="anchor" id="autotoc_md3"></a>
Introduction</h2>
<p>This code requires a modern C++ compiler but is mostly C and avoids using classes (with the exception of providing unit type safety discussed below).</p>
<p>No header or library dependencies.</p>
<p>The API attempts to be functional in style, with inputs and a returned output.</p>
<p>The inputs are never mutated (modified) and the returned value is a newly constructed object. This is to maintain referential transparency. Some benefits to this approach are that it is easy to chain together calls to these APIs. It also means that they can be safely used in multithreaded code. From a performance point of view it assumes that the compiler will be able to perform RVO.</p>
<p>Inputs are passed by const reference when the size of the input would be larger than the size of a pointer.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Scalars</h1>
<p>Changing the scalar type will change the underlying value type used by vector and matrix.</p>
<p>A scalar value used to represent an angle can sometimes be used incorrectly when an API is not clear if the units are degrees or radians. To avoid this, the API itself should document the units with a specific type that encode the units. The types Degrees and Radians below do this. These are actually classes and so this is C++, but it is worth the developer time it saves by ensuring there is no mistakes of this kind. The same could be used for other types of units as required, such as meters vs feet if the API were to need this.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Vectors</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Vector Components</h2>
<p>Both the vector and matrix type contain unions with a 'v' member which can be used for iteration of the components instead of needing to write code which requires copy paste of the same code for each component. This avoids mistakes, such as:</p>
<div class="fragment"><div class="line">Vector4f ret;</div>
<div class="line">ret.x = a.x + b.x;</div>
<div class="line">ret.y = a.y + b.y;</div>
<div class="line">ret.y = a.z + b.z;</div>
</div><!-- fragment --><p>Do you see the mistake? Happens all the time. Far better is to write code like this:</p>
<div class="fragment"><div class="line">Vector4f ret;</div>
<div class="line">for (int i = 0; i &lt; 3; ++i)</div>
<div class="line">  ret.v[i] = a.v[i] + b.v[i];</div>
</div><!-- fragment --><p>Less lines of code, less error prone, and easier to update the formula applied to each component.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Vector width</h2>
<p>The API omits providing a 3 component wide vector and instead only provides a Vector4f. This is because when dealing with arrays of these, we will be able to optimize better the 4 wide version, particularly if it can be aligned to 128-bits and used with a SIMD optimized function to transform an array of them. For all the provided functions below, we don't bother providing SIMD optimizations as most compilers can auto-vectorize this code just fine and so it only will make the code more error prone, and not able to be re-compiled with different compiler flags to target different machine types or without or without different levels of SIMD support.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
The API</h1>
<div class="fragment"><div class="line">// Vector functions</div>
<div class="line">Vector4f Vector4f_Set(Scalar1f x, Scalar1f y, Scalar1f z, Scalar1f w);</div>
<div class="line">Vector4f Vector4f_Replicate(Scalar1f v);</div>
<div class="line">Vector4f Vector4f_Zero();</div>
<div class="line">Vector4f Vector4f_SetX(const Vector4f&amp; vec, Scalar1f x);</div>
<div class="line">Vector4f Vector4f_SetY(const Vector4f&amp; vec, Scalar1f y);</div>
<div class="line">Vector4f Vector4f_SetZ(const Vector4f&amp; vec, Scalar1f z);</div>
<div class="line">Vector4f Vector4f_SetW(const Vector4f&amp; vec, Scalar1f w);</div>
<div class="line"> </div>
<div class="line">// Vector operations</div>
<div class="line">Vector4f Vector4f_CrossProduct(const Vector4f&amp; v1, const Vector4f&amp; v2);</div>
<div class="line">Vector4f Vector4f_Multiply(const Vector4f&amp; vec1, const Vector4f&amp; vec2);</div>
<div class="line">Vector4f Vector4f_Add(const Vector4f&amp; vec1, const Vector4f&amp; vec2);</div>
<div class="line">Vector4f Vector4f_Scaled(const Vector4f&amp; vec, Scalar1f scale);</div>
<div class="line">Scalar1f Vector4f_SumComponents(const Vector4f&amp; vec);</div>
<div class="line">Scalar1f Vector4f_DotProduct(const Vector4f&amp; vec1, const Vector4f&amp; vec2);</div>
<div class="line">Scalar1f Vector4f_LengthSquared(const Vector4f&amp; vec);</div>
<div class="line">Scalar1f Vector4f_Length(const Vector4f&amp; vec);</div>
<div class="line">Scalar1f Vector4f_ReciprocalLength(const Vector4f&amp; vec);</div>
<div class="line">Vector4f Vector4f_Normalized(const Vector4f&amp; vec);</div>
<div class="line"> </div>
<div class="line">// Matrix functions</div>
<div class="line">Matrix4x4f Matrix4x4f_Set(const Scalar1f v[16]);</div>
<div class="line">Matrix4x4f Matrix4x4f_Zero();</div>
<div class="line">Matrix4x4f Matrix4x4f_Identity();</div>
<div class="line"> </div>
<div class="line">// Matrix transforms</div>
<div class="line">Matrix4x4f Matrix4x4f_TranslateXYZ(const Vector4f&amp; vec);</div>
<div class="line">Matrix4x4f Matrix4x4f_Multiply(const Matrix4x4f&amp; m1, const Matrix4x4f&amp; m2);</div>
<div class="line">Matrix4x4f Matrix4x4f_Transposed(const Matrix4x4f&amp; a);</div>
<div class="line">Matrix4x4f Matrix4x4f_Scaled(const Matrix4x4f&amp; m, Scalar1f scale);</div>
<div class="line">Matrix4x4f Matrix4x4f_ScaleXYZ(const Vector4f&amp; scale);</div>
<div class="line">Matrix4x4f Matrix4x4f_RotateX(Scalar1f x);</div>
<div class="line">Matrix4x4f Matrix4x4f_RotateY(Scalar1f y);</div>
<div class="line">Matrix4x4f Matrix4x4f_RotateZ(Scalar1f z);</div>
<div class="line">Vector4f Vector4f_Transform(const Matrix4x4f&amp; m, const Vector4f&amp; vec);</div>
<div class="line"> </div>
<div class="line">// Projections</div>
<div class="line">Matrix4x4f Matrix4x4f_PerspectiveFrustum(Radians fieldOfView, Scalar1f aspectRatio,</div>
<div class="line">                                         Scalar1f near, Scalar1f far);</div>
<div class="line">Matrix4x4f Matrix4x4f_OrthographicFrustum(Scalar1f left, Scalar1f right,</div>
<div class="line">                                          Scalar1f bottom, Scalar1f top,</div>
<div class="line">                                          Scalar1f near, Scalar1f far);</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer"> Last update on Wed Apr 27 2022 for Maths3D  </li>
  </ul>
</div>
</body>
</html>
